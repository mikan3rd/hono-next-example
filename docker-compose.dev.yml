name: "hono-next-example--dev"

services:

  backend_app:
    build:
      context: .
      dockerfile: packages/backend_app/Dockerfile
      target: dev
    env_file:
      - .env
    command: |
      bun run --hot src/server.ts
    ports:
      - "${BACKEND_APP_PORT}:${BACKEND_APP_PORT}"

  frontend_app:
    build:
      context: .
      dockerfile: packages/frontend_app/Dockerfile
      target: dev
    env_file:
      - .env
    command: |
      bun run dev --port ${FRONTEND_APP_PORT}
    ports:
      - "${FRONTEND_APP_PORT}:${FRONTEND_APP_PORT}"
    depends_on:
      - backend_app

